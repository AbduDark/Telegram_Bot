botadmin@vps-6481d005:/var/www/Telegram_Bot$ sudo npm install --production
npm warn config production Use `--omit=dev` instead.
npm warn ERESOLVE overriding peer dependency
npm warn While resolving: @openrouter/ai-sdk-provider@1.2.0
npm warn Found: ai@4.3.19
npm warn node_modules/ai
npm warn   ai@"^4.3.16" from the root project
npm warn   3 more (@mastra/core, @mastra/memory, @mastra/schema-compat)
npm warn
npm warn Could not resolve dependency:
npm warn peer ai@"^5.0.0" from @openrouter/ai-sdk-provider-v5@1.2.0
npm warn node_modules/@openrouter/ai-sdk-provider-v5
npm warn   @openrouter/ai-sdk-provider-v5@"npm:@openrouter/ai-sdk-provider@1.2.0" from @mastra/core@0.20.2
npm warn   node_modules/@mastra/core
npm warn
npm warn Conflicting peer dependency: ai@5.0.98
npm warn node_modules/ai
npm warn   peer ai@"^5.0.0" from @openrouter/ai-sdk-provider-v5@1.2.0
npm warn   node_modules/@openrouter/ai-sdk-provider-v5
npm warn     @openrouter/ai-sdk-provider-v5@"npm:@openrouter/ai-sdk-provider@1.2.0" from @mastra/core@0.20.2
npm warn     node_modules/@mastra/core
npm warn deprecated har-validator@5.1.5: this library is no longer supported
npm warn deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.

added 185 packages, removed 37 packages, changed 104 packages, and audited 758 packages in 9s

127 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (7 low, 7 moderate, 1 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
botadmin@vps-6481d005:/var/www/Telegram_Bot$ npm fund
agent-stack-mastra@1.0.0
├── https://dotenvx.com
│   └── dotenv@16.4.7
├─┬ https://opencollective.com/express
│ │ └── express@4.21.2, iconv-lite@0.7.0
│ ├── https://github.com/sponsors/sindresorhus
│ │   └── merge-descriptors@1.0.3, @sindresorhus/slugify@2.2.1, @sindresorhus/transliterate@1.6.0, escape-string-regexp@5.0.0, p-map@7.0.3, is-stream@2.0.1, strip-json-comments@5.0.3, exit-hook@4.0.0, p-queue@6.6.2, throttleit@2.1.0
│ ├── https://github.com/sponsors/ljharb
│ │   └── qs@6.13.0, qs@6.14.0, side-channel@1.1.0, object-inspect@1.13.4, side-channel-list@1.0.0, side-channel-map@1.0.1, call-bound@1.0.4, function-bind@1.1.2, get-intrinsic@1.3.0, gopd@1.2.0, has-symbols@1.1.0, side-channel-weakmap@1.0.2, resolve@1.22.10, is-core-module@2.16.1, supports-preserve-symlinks-flag@1.0.0, minimist@1.2.8, has-tostringtag@1.0.2, call-bind@1.0.8, define-data-property@1.1.4, has-property-descriptors@1.0.2, define-properties@1.2.1, es-abstract@1.24.0, array-buffer-byte-length@1.0.2, arraybuffer.prototype.slice@1.0.4, available-typed-arrays@1.0.7, data-view-buffer@1.0.2, data-view-byte-offset@1.0.1, es-to-primitive@1.3.0, is-date-object@1.1.0, is-symbol@1.1.1, function.prototype.name@1.1.8, functions-have-names@1.2.3, get-symbol-description@1.1.0, globalthis@1.0.4, has-proto@1.2.0, is-array-buffer@3.0.5, is-callable@1.2.7, is-data-view@1.0.2, is-negative-zero@2.0.3, is-regex@1.2.1, is-set@2.0.3, is-shared-array-buffer@1.0.4, is-string@1.1.1, is-typed-array@1.1.15, is-weakref@1.1.1, object.assign@4.1.7, own-keys@1.0.1, regexp.prototype.flags@1.5.4, safe-array-concat@1.1.3, safe-push-apply@1.0.0, safe-regex-test@1.1.0, string.prototype.trim@1.2.10, string.prototype.trimend@1.0.9, string.prototype.trimstart@1.0.8, typed-array-byte-length@1.0.3, for-each@0.3.5, typed-array-byte-offset@1.0.4, reflect.getprototypeof@1.0.10, which-builtin-type@1.2.1, is-async-function@2.1.1, is-finalizationregistry@1.1.1, is-generator-function@1.1.2, which-boxed-primitive@1.1.1, is-bigint@1.1.0, has-bigints@1.1.0, is-boolean-object@1.2.2, is-number-object@1.1.1, which-collection@1.0.2, is-map@2.0.3, is-weakmap@2.0.2, is-weakset@2.0.4, typed-array-length@1.0.7, unbox-primitive@1.1.0, which-typed-array@1.1.19
│ └── https://github.com/sponsors/feross
│     └── safe-buffer@5.2.1, base64-js@1.5.1
├── https://github.com/sponsors/colinhacks
│   └── zod@3.22.5
├── https://github.com/sponsors/ai
│   └── nanoid@3.3.11
├── https://github.com/sponsors/kossnocorp
│   └── date-fns@4.1.0
├── https://opencollective.com/xstate
│   └── xstate@5.20.2
├── https://github.com/sponsors/broofa
│   └── uuid@9.0.1
├── https://opencollective.com/js-sdsl
│   └── @js-sdsl/ordered-map@4.4.2
├─┬ https://github.com/chalk/wrap-ansi?sponsor=1
│ │ └── wrap-ansi@7.0.0
│ └── https://github.com/chalk/ansi-styles?sponsor=1
│     └── ansi-styles@4.3.0
├── https://github.com/sponsors/philsturgeon
│   └── @apidevtools/json-schema-ref-parser@14.2.1
├── https://github.com/sponsors/fastify
│   └── secure-json-parse@4.0.0, process-warning@5.0.0
├─┬ https://opencollective.com/node-fetch
│ │ └── node-fetch@3.3.2
│ └── https://github.com/sponsors/jimmywarting
│     └── fetch-blob@3.2.0, node-domexception@1.0.0
├── https://github.com/sponsors/epoberezkin
│   └── ajv@6.12.6
├── https://github.com/sponsors/express-rate-limit
│   └── express-rate-limit@7.5.1
├── https://github.com/sponsors/porsager
│   └── postgres@3.4.7
├── https://github.com/sponsors/RubenVerborgh
│   └── follow-redirects@1.15.11
├── https://github.com/chalk/chalk?sponsor=1
│   └── chalk@4.1.2
├── https://github.com/sponsors/finwo
│   └── serialize-error-cjs@0.1.4
├── https://github.com/sponsors/wellwelwel
│   └── lru.min@1.1.3
├── https://github.com/sponsors/lupomontero
│   └── psl@1.15.0
└─┬ https://github.com/privatenumber/get-tsconfig?sponsor=1
  │ └── get-tsconfig@4.10.1
  └── https://github.com/privatenumber/resolve-pkg-maps?sponsor=1
      └── resolve-pkg-maps@1.0.0

botadmin@vps-6481d005:/var/www/Telegram_Bot$ npm audit
# npm audit report

ai  <=5.0.51
Severity: moderate
Vercel’s AI SDK's filetype whitelists can be bypassed when uploading files - https://github.com/advisories/GHSA-rwvc-j5jr-mgvh
Depends on vulnerable versions of jsondiffpatch
fix available via `npm audit fix --force`
Will install mastra@0.17.7, which is a breaking change
node_modules/ai
  @mastra/core  <=0.0.0-zod-v4-stuff-20250825154219 || 0.1.4 - 0.24.5
  Depends on vulnerable versions of ai
  node_modules/@mastra/core
    @mastra/deployer  <=0.20.2 || 0.21.2-alpha.0 - 0.24.5
    Depends on vulnerable versions of @mastra/core
    Depends on vulnerable versions of @mastra/server
    node_modules/@mastra/deployer
      mastra  0.1.57-alpha.0 - 0.18.5
      Depends on vulnerable versions of @mastra/core
      Depends on vulnerable versions of @mastra/deployer
      Depends on vulnerable versions of @mastra/loggers
      Depends on vulnerable versions of @mastra/mcp
      node_modules/mastra
    @mastra/inngest  <=0.18.4
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/inngest
    @mastra/libsql  <=0.16.2
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/libsql
    @mastra/loggers  <=0.10.19
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/loggers
    @mastra/mcp  <=0.14.3
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/mcp
    @mastra/memory  *
    Depends on vulnerable versions of @mastra/core
    Depends on vulnerable versions of ai
    node_modules/@mastra/memory
    @mastra/pg  <=0.17.8
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/pg
    @mastra/server  <=0.20.2 || >=0.21.2-alpha.0
    Depends on vulnerable versions of @mastra/core
    node_modules/@mastra/server

form-data  <2.5.4
Severity: critical
form-data uses unsafe random function in form-data for choosing boundary - https://github.com/advisories/GHSA-fjxv-7rqg-78g4
fix available via `npm audit fix --force`
Will install node-telegram-bot-api@0.63.0, which is a breaking change
node_modules/request/node_modules/form-data
  request  *
  Depends on vulnerable versions of form-data
  Depends on vulnerable versions of tough-cookie
  node_modules/request
    request-promise-core  *
    Depends on vulnerable versions of request
    node_modules/request-promise-core
      @cypress/request-promise  *
      Depends on vulnerable versions of request-promise-core
      node_modules/@cypress/request-promise
        node-telegram-bot-api  >=0.64.0
        Depends on vulnerable versions of @cypress/request-promise
        node_modules/node-telegram-bot-api

glob  10.2.0 - 10.4.5
Severity: high
glob CLI: Command injection via -c/--cmd executes matches with shell:true - https://github.com/advisories/GHSA-5j98-mcp5-4vw2
fix available via `npm audit fix`
node_modules/glob

hono  <=4.10.2
Severity: high
Hono Improper Authorization vulnerability - https://github.com/advisories/GHSA-m732-5p4w-x69g
Hono vulnerable to Vary Header Injection leading to potential CORS Bypass - https://github.com/advisories/GHSA-q7jf-gf43-6x6p
fix available via `npm audit fix`
node_modules/hono

js-yaml  4.0.0 - 4.1.0
Severity: moderate
js-yaml has prototype pollution in merge (<<) - https://github.com/advisories/GHSA-mh29-5h37-fv8m
fix available via `npm audit fix`
node_modules/js-yaml

jsondiffpatch  <0.7.2
Severity: moderate
jsondiffpatch is vulnerable to Cross-site Scripting (XSS) via HtmlFormatter::nodeBegin - https://github.com/advisories/GHSA-33vc-wfww-vjfv
fix available via `npm audit fix --force`
Will install mastra@0.17.7, which is a breaking change
node_modules/jsondiffpatch


tough-cookie  <4.1.3
Severity: moderate
tough-cookie Prototype Pollution vulnerability - https://github.com/advisories/GHSA-72xf-g2v4-qvf3
fix available via `npm audit fix --force`
Will install node-telegram-bot-api@0.63.0, which is a breaking change
node_modules/request/node_modules/tough-cookie

21 vulnerabilities (10 low, 7 moderate, 2 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.
botadmin@vps-6481d005:/var/www/Telegram_Bot$
