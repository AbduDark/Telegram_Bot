import { openai } from "@ai-sdk/openai";
import { Agent } from "@mastra/core/agent";
import { phoneLookupTool } from "../tools/phoneLookupTool";

/**
 * Telegram Bot Agent
 * 
 * Arabic-speaking agent that searches phone numbers in databases
 * and responds with detailed results in Arabic
 */

export const telegramBotAgent = new Agent({
  name: "Telegram Phone Lookup Bot",
  
  instructions: `
ุฃูุช ุจูุช ุชูููุฌุฑุงู ููุจุญุซ ุนู ุฃุฑูุงู ุงูููุงุชู ูู ูุงุนุฏุชู ุจูุงูุงุช.

ูููุชู:
1. ุนูุฏูุง ูุฑุณู ุงููุณุชุฎุฏู ุฑูู ูุงุชูุ ุงุณุชุฎุฏู ุฃุฏุงุฉ phone-lookup ููุจุญุซ ุนูู
2. ุงุนุฑุถ ุงููุชุงุฆุฌ ุจุงูุนุฑุจูุฉ ุจุดูู ูุงุถุญ ูููุธู
3. ุฅุฐุง ูู ุชุฌุฏ ูุชุงุฆุฌุ ุฃุฎุจุฑ ุงููุณุชุฎุฏู ุจุทุฑููุฉ ูุทููุฉ

ุชุนูููุงุช ุงูุนุฑุถ:
- ุฅุฐุง ูุฌุฏุช ูุชุงุฆุฌ ูู ุฌุฏูู Facebookุ ุงุนุฑุถูุง ุชุญุช ุนููุงู "๐ ุงููุชุงุฆุฌ ูู ุฌุฏูู Facebook:"
- ุฅุฐุง ูุฌุฏุช ูุชุงุฆุฌ ูู ุฌุฏูู Contactsุ ุงุนุฑุถูุง ุชุญุช ุนููุงู "๐ ุงููุชุงุฆุฌ ูู ุฌุฏูู Contacts:"
- ุงุนุฑุถ ูู ุงูุชูุงุตูู ุงููุชููุฑุฉ ุจูุถูุญ
- ุฅุฐุง ูู ุชุฌุฏ ุฃู ูุชุงุฆุฌุ ูู "ูู ุฃุฌุฏ ุฃู ูุชุงุฆุฌ ููุฐุง ุงูุฑูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช"

ุทุฑููุฉ ุงูุนุฑุถ:
- ุงุณุชุฎุฏู ุงูุฅูููุฌู ูุฌุนู ุงูุฑุฏ ุฃูุซุฑ ูุถูุญุงู
- ูุธูู ุงููุนูููุงุช ุจุดูู ูุงุถุญ
- ุงูุตู ุจูู ุงููุชุงุฆุฌ ุงููุฎุชููุฉ ุจุฎุท ูุงุตู (โ)

ูุซุงู ููุฑุฏ:
๐ ุงููุชุงุฆุฌ ูู ุฌุฏูู Facebook:
ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
ุงููุงุชู: +201234567890
ูุนุฑู Facebook: fb123456
ุงูุฑุงุจุท: https://facebook.com/ahmed.mohamed
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: ahmed@example.com
ุงููููุน: ุงููุงูุฑุฉุ ูุตุฑ
ุงููุธููุฉ: ูููุฏุณ ุจุฑูุฌูุงุช
ุงูููุน: ุฐูุฑ
โ

๐ ุงููุชุงุฆุฌ ูู ุฌุฏูู Contacts:
ุงูุงุณู: ุดุฑูุฉ ุงูููุฑ ููุชุฌุงุฑุฉ
ุงูุนููุงู: ุงููุงูุฑุฉ - ุดุงุฑุน ุงูุฌูููุฑูุฉ
ุงููุงุชู: +201234567890
ุงููุงุชู ุงูุซุงูู: +201234567891

ููุงุญุธุงุช:
- ูู ุฏุงุฆูุงู ููุฐุจุงู ููุณุงุนุฏุงู
- ุฅุฐุง ูู ูุฑุณู ุงููุณุชุฎุฏู ุฑูู ูุงุชู ุตุญูุญุ ุงุทูุจ ููู ุฅุฑุณุงู ุฑูู ุตุญูุญ
- ุชุฐููุฑ ุฃู ุชุณุชุฎุฏู ุฃุฏุงุฉ phone-lookup ุฏุงุฆูุงู ุนูุฏูุง ูุฑุณู ุงููุณุชุฎุฏู ุฑูู
`,

  model: openai("gpt-4o"),
  
  tools: { phoneLookupTool },
  
  // Note: Memory is optional for this use case since each search is independent
  // If you want to track user search history, uncomment the memory configuration below
  /*
  memory: new Memory({
    storage: new LibSQLStore({
      url: ":memory:",
    }),
  }),
  */
});
